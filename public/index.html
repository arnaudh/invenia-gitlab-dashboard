<!DOCTYPE html>
<html>
<head>
    <title>GitLab Dashboard</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
</head>
<body>

<a id="link-to-repo" href="https://gitlab.invenia.ca/invenia/gitlab-dashboard">Code lives here</a>

<div id="toolbar">
    <!-- <h2>GitLab Dashboard</h2> -->
    <h2>Nightly failures</h2>

    <span class="switch-field form-line">
        <input type="radio" id="nightly-all" name="nightly" value="all" onchange="update_state_from_user_inputs()">
        <label for="nightly-all">All</label>

        <input type="radio" id="nightly-dev" name="nightly" value="dev" onchange="update_state_from_user_inputs()">
        <label for="nightly-dev"><img src="images/nightly-dev.jpg" class="avatar"/> DEV</label>

        <input type="radio" id="nightly-rse" name="nightly" value="rse" onchange="update_state_from_user_inputs()">
        <label for="nightly-rse"><img src="images/nightly-rse.png" class="avatar"/> RSE</label>
    </span>
    <span class="search-container form-line">
        <input type="text" id="search" name="search" onchange="update_state_from_user_inputs()" placeholder="Filter by job name or error message">
        <svg class="search-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="search"><path fill-rule="evenodd" d="M9.331 9.331a3.088 3.088 0 1 0-4.368-4.368 3.088 3.088 0 0 0 4.368 4.368zm.655 2.11a5.149 5.149 0 0 1-6.478-7.933 5.147 5.147 0 0 1 7.934 6.478l2.256 2.257a1.03 1.03 0 1 1-1.455 1.455l-2.257-2.256z"></path></svg>
        </svg>
    </span>
    <span class="form-line">Display:
        <span>
            <input type="checkbox" id="display-job-names" name="display-job-names" onchange="update_state_from_user_inputs()">
            <label for="display-job-names">job names</label>
        </span>
        <span>
            <input type="checkbox" id="display-errors" name="display-errors" onchange="update_state_from_user_inputs()">
            <label for="display-errors">error messages</label>
        </span>
    </span>
    <span class="form-line">| Job status:
        <span>
            <input type="checkbox" id="display-jobs-failed" name="display-jobs-failed" onchange="update_state_from_user_inputs()">
            <label for="display-jobs-failed">
                <span class="gitlab-status"><img src="images/gitlab-failed.png" title="failed"/></span>
            </label>
        </span>
        <span>
            <input type="checkbox" id="display-jobs-failed-allow-failure" name="display-jobs-failed-allow-failure" onchange="update_state_from_user_inputs()">
            <label for="display-jobs-failed-allow-failure">
                <span class="gitlab-status"><img src="images/gitlab-warning.png" title="failed (allowed to fail)"/></span>
            </label>
        </span>
        <span>
            <input type="checkbox" id="display-jobs-passed" name="display-jobs-passed" onchange="update_state_from_user_inputs()">
            <label for="display-jobs-passed">
                <span class="gitlab-status"><img src="images/gitlab-success.png" title="passed"/></span>
            </label>
        </span>
        <span>
            <input type="checkbox" id="display-jobs-other" name="display-jobs-other" onchange="update_state_from_user_inputs()">
            <label for="display-jobs-other">
                <span class="gitlab-status"><img src="images/gitlab-other.png" title="other"/></span>
            </label>
        </span>
    </span>
</div>
<div id="error-message"></div>
<div id="table-container">
  <table id="results-table"></table>
</div>

<script type="text/javascript" src="dashboard.js"></script>



</body>
</html>